<apex:page standardController="Evaluation__c" showHeader="false" extensions="CMShiftAssessmentView" applyHtmlTag="false" renderAs="pdf">
<apex:stylesheet value="{!URLFOR($Resource.mentoresdprint)}" />
	<head>
        <style>
            [id$=skinBodyFooter] {
                clear: both;
            }
            hr {
                color: #ECECEC;
                background-color: #ECECEC;
                margin-bottom: 20px;
                margin-top: 20px;
                border: none;
                height: 3px;
            }
            .hrSmall {
                height: 1px;
                border: 0;
                color: black;
                background-color: black;
            }
            h1 { font-size:16px;}
            h2 { font-size: 16px;}
            h3 { font-size:13px; padding-bottom:0px; margin-bottom:0px}
            .pbHeader {
                font-size:2em;
                margin-bottom:3px;
                display:block;
                border-bottom:3px solid black;
                border-collapse:collapse;
                line-height:1.25%;
                }
            .pbSubheader {
                font-size:1em;
                border-collapse:collapse;
                margin-bottom:0px !important;
                padding-bottom:0px !important;
            }

            .labelCol, .label {
                margin: 10px;
                font-weight:bold;
            }

            body {
                font-family:'Serif';
                font-size:12px
            }
        </style>

        <style type="text/css" media="print">
            @page {
                @top-center {
                    content: element(header);
                }
                @bottom-left {
                    content: element(footer);
                }
            }
            div.header {
                padding: 10px;
                align:right;
                width:100%;
                position: running(header);
            }
            div.footer {
                display: block;
                padding: 5px;
                position: running(footer);
            }
            .pagenumber:before {
                content: counter(page);
            }
            .pagecount:before {
                content: counter(pages);
            }
        </style>
    </head>
    <div style="width:100%; text-align:right" class="header"><b>Person Being Served: &nbsp;</b><apex:outputText value="{!Evaluation__c.ServiceAssignment__r.Person_Being_Served__r.Name}" /><b>, Page</b> <span class="pagenumber"/><b> of </b><span class="pagecount"/></div>
    <apex:pageMessages />
    <apex:form id="wholePage" >
     	<apex:outputpanel rendered="false">
            <apex:inputhidden value="{!Evaluation__c.ServiceAssignment__r.Admission__r.Person_Being_Served__c}" />
            <apex:inputhidden value="{!Evaluation__c.Resident_Demonstrating_Issues__c}" />
            <apex:inputhidden value="{!Evaluation__c.Orientation__c}" />
            <apex:inputhidden value="{!Evaluation__c.Mood__c}" />
            <apex:inputhidden value="{!Evaluation__c.Breathe_Sounds__c}" />
            <apex:inputhidden value="{! Evaluation__c.Autonomic_Dysreflexia_Areas_Assessed__c}" />
        </apex:outputpanel>
         <h1 style="text-align:center;">SHIFT ASSESSMENT</h1>
         <apex:pageBlock title="Demographics" >
         	<table style="width:100%">
         		<tr>
	              <td width="50%">
	              	<apex:outputLabel value="Alias" styleClass="label"/><apex:outputField value="{!Evaluation__c.ServiceAssignment__r.Service_location__r.name}" />
	              
	              	</td><td>
	                <apex:outputLabel id="Address" value="Address" styleClass="label"/>
	                <c:AddressDisplay Street1="{!Evaluation__c.ServiceAssignment__r.Service_Location__r.Street__c}"
	                                  City="{!Evaluation__c.ServiceAssignment__r.Service_Location__r.City__c}"
	                                  State="{!Evaluation__c.ServiceAssignment__r.Service_Location__r.State__c}"
	                                  Zip="{!Evaluation__c.ServiceAssignment__r.Service_Location__r.Zip__c}"/>
	              </td></tr>
	              <tr><td>
	                <apex:outputLabel id="Name" value="Name" styleClass="label"/>
	                <apex:outPutField value="{!Evaluation__c.ServiceAssignment__r.Admission__r.Person_Being_Served__r.Name}"/>
	              </td><td>
	                <apex:outputLabel id="BirthDate" value="BirthDate" styleClass="label"/>
	                <apex:outputField value="{!Evaluation__c.ServiceAssignment__r.Admission__r.Person_Being_Served__r.BirthDate}"/>
	              </td></tr>
	              <tr>
	              	<td>
	              		<apex:outputLabel value="Age" styleClass="label" />
	              		<apex:outputField value="{!Evaluation__c.ServiceAssignment__r.Admission__r.Person_Being_Served__r.Age__c}" />
             	    </td>
	              	<td>
	              		<apex:outputLabel value="Service Record Number" styleClass="label"/>
	              		<apex:outputField value="{!Evaluation__c.ServiceAssignment__r.Medical_Record_Number__c}" />
	              	</td>
	              </tr>
	              <tr>
	              	<td>
	              		<apex:outputLabel value="Primary Physician" styleClass="label" />
	              		<apex:outputText value="{!primaryPhysician}" />
	              	</td>
	              	<td>
	              		<apex:outputLabel value="Advance Directives" styleClass="label" />
	              		<apex:outputField value="{!Evaluation__c.ServiceAssignment__r.Admission__r.Person_Being_Served__r.Advanced_Directives__c}" />
	              	</td>
	              </tr>
	              <tr >
	              	<td>
	              		<apex:outputLabel value="Code Status" styleClass="label" />
	              		<apex:outputField value="{!Evaluation__c.ServiceAssignment__r.Admission__r.Person_Being_Served__r.Code_Status__c}" />
	              	</td>
	              	<td>
	              		<apex:outputLabel value="Advance Directives Attached" styleClass="label" />
	              		<apex:outputField value="{!Evaluation__c.ServiceAssignment__r.Admission__r.Person_being_served__r.Advanced_Directives_Attached__c}" />
	              	</td>
	              </tr>
	              <tr>
	              	<td>
	              		<apex:outputLabel value="Specify Other" styleClass="label" />
	              		<apex:outputField value="{!Evaluation__c.ServiceAssignment__r.admission__r.Person_Being_Served__r.Code_Status_Other__c}" />
	              	</td>
	              	<td></td>
	              </tr>
         	</table>
         	<c:EvaluationResponseTablePDF pbsParentId="{!Evaluation__c.ServiceAssignment__r.Person_Being_Served__c}" type="Allergy" formId="{!$Component.wholePage}" uniqueId="allergy" isPdf="true"/>
         </apex:pageBlock>
         <hr/>
         <apex:pageBlock title="Diagnostics" >
         	<apex:pageBlockSection columns="1" title="Vitals Details">
         		<apex:pageBlockTable value="{!vitals}" var="vital" id="vitalsTable" border="1" >
	                <apex:column value="{!vital.Date__c}" />
	                <apex:column value="{!vital.Heart_Rate__c}" />
	                <apex:column value="{!vital.Blood_Pressure__c}" />
	                <apex:column value="{!vital.O2_Saturation__c}" />
	                <apex:column value="{!vital.Temperature__c}" />
	            </apex:pageBlockTable>
	       </apex:pageBlockSection>
	       <table style="width:80%;" >
	       	<tr>
	       		<td>
	       			<apex:outputLabel value="Requires Isolation" styleClass="label" />
	       			<apex:outputText value="{!Evaluation__c.Requires_Isolation_Picklist__c & if( Evaluation__c.Requires_Isolation_Picklist__c == 'Yes', ' - Type: ' & Evaluation__c.DiagnosisIsolation_Type__c, '' )}"/>
	       		</td> </tr>
	       		<tr>
	       		<td colspan="2" style="border:1px solid black" > 
	       			<apex:outputText Value="IV" styleClass="labelCol" />
	       		</td>	
	       	</tr>
	       	<tr>
	       		<td>
	       			<apex:outputLabel value="IV" styleClass="label" />
	       			<apex:outputField value="{!Evaluation__c.IV_Picklist__c}" />
	       		</td>
	       	</tr>
	       	<tr>
	       		<td>
	       			<apex:outputLabel value="IV Type" styleClass="label" />
	       			<apex:dynamiccomponent id="picc" componentValue="{!ctlMap['picc__c']}" />
		            <apex:dynamiccomponent id="central" componentValue="{!ctlMap['central__c']}" />
		            <apex:dynamiccomponent componentValue="{!ctlMap['heplock__c']}" />
	       		</td>
	       	</tr>
	       	<tr>
	       		<td>
	       			<apex:dynamiccomponent componentValue="{!ctlMap['iv_site_issues__c']}" rendered="{!Evaluation__c.IV_Picklist__c == 'Yes'}" />
	       		</td>
	       	</tr>
	       	<tr>
	       		<td>
	       			<apex:dynamiccomponent componentValue="{!ctlMap['iv_narrative_note__c']}" rendered="{!Evaluation__c.IV_Site_Issues__c == 'Yes' && Evaluation__c.IV_Picklist__c == 'Yes'}"/>
	       		</td>
	       	</tr>
	       </table>
         </apex:pageBlock>
         <apex:pageBlock title="Cardiopulmonary" >
         	<table width="80%"  >
         		<tr>
         			<td colspan="2" style="border:1px solid black" >
         				<apex:outputText value="Cardio" />
         			</td>
         		</tr>
         		<tr>
         			<td>
         				<apex:outputLabel Value="Heart Rate" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Heart_Sounds__c}" /><br/>
         				<apex:outputlabel value="Intervention Needed" rendered="{!Evaluation__c.Heart_Sounds__c == 'Irregular'}" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Heart_Intervention_Need_Picklist__c}" rendered="{!Evaluation__c.Heart_Sounds__c == 'Irregular'}" /><br/>
         				<apex:outputLabel value="Narrative Note" rendered="{!Evaluation__c.Heart_Intervention_Need_Picklist__c == 'Yes'}" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Heart_Rate_Intervention_Describe__c}" rendered="{!Evaluation__c.Heart_Intervention_Need_Picklist__c == 'Yes'}" />
         			</td>
         			<td>
         				<apex:outputLabel Value="Peripheral Pulses Present" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Peripheral_Pulses_Present__c}" /><br/>
         				<apex:outputlabel value="Describe" rendered="{!Evaluation__c.Peripheral_Pulses_Present__c == 'No'}" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Peripheral_Pulses_Describe__c}" rendered="{!Evaluation__c.Peripheral_Pulses_Present__c == 'No'}" /><br/>
         			</td>
         		</tr>
        	</table>
         	<table width="80%">
         		<tr>
         			<td>
         				<apex:dynamiccomponent componentValue="{!ctlMap['autonomic_dysreflexia__c']}" /> <br/>
         				<apex:outputLabel Value="Were the following areas assessed" styleClass="label" />
         				<em><apex:outputField value="{!Evaluation__c.Autonomic_Dysreflexia_Areas_Assessed__c}"/></em><br/>
         				<apex:outputLabel value="Was the issue Resolved" styleClass="label"/>
         				<apex:outputField value="{!Evaluation__c.Dysreflexia_issue_resolved__c}" /> <br/>
         				<apex:outputLabel value="Describe" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Dysreflexia_Issue_Describe__c}" rendered="{!Evaluation__c.Dysreflexia_issue_resolved__c == 'No'}" />
         			</td>
         		</tr>
         	</table>
         	<table width="80%" border="1px;" >
         		<tr colspan="2" style="border:1px solid black">
         			<td>
         				<apex:outputlabel value="Sputum" />
         			</td>
         		</tr>
         		<tr>
         			<td>
         				<apex:outputLabel value="Suctioning" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Suctioning_Picklist__c}" /><br/>
         				<apex:dynamiccomponent componentValue="{!ctlMap['sputum_quantity__c']}" /><br/>
         				<apex:dynamiccomponent componentValue="{!ctlMap['blood_tinged__c']}" /><br/>
         				<apex:outputText value="{! if( Evaluation__c.Thick__c, 'Thick;', '') &
                                         if (Evaluation__c.Thin__c, 'Thin;', '') &
                                         if (Evaluation__c.Frothy__c, 'Frothy;', '') &
                                         if (Evaluation__c.Sticky__c, 'Sticky;', '') &
                                         if (Evaluation__c.Creamy__c, 'Creamy;', '')}" />
         			</td>
         			<td>
         				<apex:dynamiccomponent componentValue="{!ctlMap['sputum_color__c']}" /><br/>
         				<apex:dynamiccomponent componentValue="{!ctlMap['odor__c']}" /><br/>
         				<apex:outputLabel value="Breath Sounds" styleClass="label" />
         				<apex:outputText value="{!Evaluation__c.Breathe_Sounds__c & if( CONTAINS(Evaluation__c.Breathe_Sounds__c,  'Other'), ' (' & Evaluation__c.Breathe_Sound_Other__c & ')', '')}" />
         			</td>
         		</tr>
         	</table>
         </apex:pageBlock>
         <apex:pageBlock title="GU/GI/Nutrition" >
         
         </apex:pageBlock>
         <apex:pageBlock title="Skin/Body" >
         
         </apex:pageBlock>
         <apex:pageBlock title="Neurological" >
         
         </apex:pageBlock>
         <apex:pageBlock title="Ortho" >
         	<table width="80%" >
         		<tr>
         			<td>
         				<apex:outputLabel Value="Cast" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Cast_Picklist__c}" /><br/>
         				<apex:outputlabel value="Location" rendered="{!Evaluation__c.Cast_Picklist__c == 'Yes'}" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Ortho_Cast_Location__c}" rendered="{!Evaluation__c.Cast_Picklist__c == 'Yes'}" /><br/>
         				<apex:outputLabel value="Other" rendered="{!Evaluation__c.Ortho_Cast_Location__c == 'Other'}" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Cast_Location__c}" rendered="{!Evaluation__c.Ortho_Cast_Location__c == 'Other'}" />
         			</td>
         			<td>
         				<apex:outputLabel Value="Traction" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Traction_Picklist__c}" /><br/>
         				<apex:outputlabel value="Location" rendered="{!Evaluation__c.Traction_Picklist__c == 'Yes'}" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Traction_Location__c}" rendered="{!Evaluation__c.Traction_Picklist__c == 'Yes'}" /><br/>
         				<apex:outputLabel value="Type" rendered="{!Evaluation__c.Traction_Picklist__c == 'Yes'}" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Traction_Type__c}" rendered="{!Evaluation__c.Traction_Picklist__c == 'Yes'}" /><br/>
         				<apex:outputLabel value="Weight" rendered="{!Evaluation__c.Traction_Picklist__c == 'Yes'}" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.Traction_Weight__c}" rendered="{!Evaluation__c.Traction_Picklist__c == 'Yes'}" />
         			</td>	
         		</tr>
         		<tr>
         			<td>
         				<apex:outputLabel Value="External Devices" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.External_Device_Picklist__c}" /><br/>
         				<apex:outputlabel value="Location" rendered="{!Evaluation__c.External_Device_Picklist__c == 'Yes'}" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.External_Devices_Location__c}" rendered="{!Evaluation__c.External_Device_Picklist__c == 'Yes'}" /><br/>
         				<apex:outputLabel value="Type" rendered="{!Evaluation__c.External_Device_Picklist__c == 'Yes'}" styleClass="label" />
         				<apex:outputField value="{!Evaluation__c.External_Devices_Type__c}" rendered="{!Evaluation__c.External_Device_Picklist__c == 'Yes'}" />
         			</td>
         		</tr>
         	
         	</table>
         </apex:pageBlock>
         <apex:pageBlock title="Psycho/Social" >
         	<table width="100%" >
         		<tr>
         			<td>
         				<apex:outputLabel value="Does Resident appear to be coping well" styleClass="label"/>
         				<apex:outputField value="{!Evaluation__c.Resident_Coping_Well__c}" />
         			</td>
         		</tr>
         		<tr>
         			<td>
         				<apex:outputLabel value="Describe" styleClass="label"/>
         				<apex:outputField value="{!Evaluation__c.Coping_Description__c}" rendered="{!Evaluation__c.Resident_Coping_Well__c == 'No'}" />
         				
         			</td>
         		</tr>
         		<tr>
         			<td>
         				<apex:outputlabel styleClass="label">Does Resident appear to demonstrate/note any of the following</apex:outputlabel>
         				<apex:outputField value="{!Evaluation__c.Does_Resident_appear_to_demonstrate__c}" />
         				<em><apex:outputField value="{!Evaluation__c.Resident_Demonstrating_Issues__c}" rendered="{!Evaluation__c.Does_Resident_appear_to_demonstrate__c == 'Yes'}" /></em>
         			</td>
         		</tr>
         		
         	
         	
         	</table>
         </apex:pageBlock>
    </apex:form>
</apex:page>