<apex:page title="Seizures" controller="TxnQueueResponseController" extensions="DSP_PbsSeizureListing" sidebar="false" standardStylesheets="true">
<apex:includeScript value="{!URLFOR($Resource.jquery, 'js/jquery-1.7.2.min.js')}" />
<apex:includeScript value="{!URLFOR($Resource.CommonJS)}" />
<apex:includeScript value="{!URLFOR($Resource.jquery, 'js/jquery-ui-1.8.21.custom.min.js')}" />
<apex:stylesheet value="{!URLFOR($Resource.jquery, 'css/custom-theme/jquery-ui-1.8.21.custom.css')}" />
<apex:stylesheet value="{!URLFOR($Resource.mentoresd,'/mentoresd.css')}" />
<apex:variable value="{!pbsViewResponse.contact}" var="contactObj" />
	
<!--     <c:PersonalRecord pbsId="{!PBSId}" parentPage="PBS" /> -->
<br />
<apex:form id="FormId">
<apex:pageMessages />

<!--  Seizure section -->
<!-- Add Seizure Tracking modal. -->
<!--     <apex:outputPanel id="seizureTrackingModal" layout="block" style="display:none" rendered="{!!newSA}"> -->
<!--             <span class="ui-helper-hidden-accessible"><input type="text"/></span> -->
<!--             <div id='seizureMessages'></div> -->
<!--             <apex:pageBlock mode="maindetail"> -->
<!--                 <apex:pageBlockSection columns="1" id="seizureEntry"> -->
<!--                     <apex:pageBlockSectionItem ><apex:outputLabel Value="Start Time"/> -->
<!--                         <c:MilitaryDateTimeWithSeconds edit="true" shiftTop="20" hiddenFieldId="seizureEntry_startDateTime" dateTimeVal="{! IF(seizure.Start_DateTime__c==null, NOW(), seizure.Start_DateTime__c) }" datetimepickerid="seizureEntry_startDateTimeInput"/> -->
<!--                     </apex:pageBlockSectionItem> -->
<!--                     <apex:pageBlockSectionItem > <apex:outputLabel Value="End Time"/> -->
<!--                         <c:MilitaryDateTimeWithSeconds edit="true" shiftTop="20" hiddenFieldId="seizureEntry_endDateTime" dateTimeVal="{! IF(seizure.End_DateTime__c==null, NOW(), seizure.End_DateTime__c) }" datetimepickerid="seizureEntry_endDateTimeInput"/> -->
<!--                     </apex:pageBlockSectionItem> -->
<!--                     <apex:inputField value="{!seizure.Observed_By__c}" id="seizureEntry_observedBy"/> -->
<!--                     <apex:inputField value="{!seizure.Comments__c}" id="seizureEntry_comments" /> -->
<!--                     <apex:inputField value="{!seizure.Duplicate_Entry__c}" id="seizureEntry_duplicateEntry" /> -->
<!--                     <apex:inputHidden value="{!seizure.Id}" id="seizureEntry_Id" /> -->
<!--                 </apex:pageBlockSection> -->
<!--                     <apex:inputHidden value="{!seizureStart_DateTime}" id="seizureEntry_startDateTime" /> -->
<!--                     <apex:inputHidden value="{!seizureEnd_DateTime}" id="seizureEntry_endDateTime" /> -->
<!--                 <apex:pageblockButtons location="bottom"> -->
<!--                     <apex:actionStatus id="saveSeizureStatus"> -->
<!--                         <apex:facet name="start"> -->
<!--                             <apex:image height="16px" value="/img/loading32.gif" styleClass="dialogLoadingSpinner" /> -->
<!--                         </apex:facet> -->
<!--                         <apex:facet name="stop"> -->
<!--                             <apex:outputPanel > -->
<!--                                 <apex:commandButton id="saveSeizure" value="Save" onclick="seizureSave(true);return false;" /> -->
<!--                                 <apex:commandButton id="saveAndNewSeizure" value="Save & New" onclick="seizureSave(false); return false;" /> -->
<!--                                 <apex:commandButton value="Cancel" onclick="closeModalDialogSA('seizureTrackingModal', 'div');j$('#seizureMessages').html('');return false;" /> -->
<!--                             </apex:outputPanel> -->
<!--                         </apex:facet> -->
<!--                     </apex:actionStatus> -->
<!--                 </apex:pageblockButtons> -->
<!--             </apex:pageBlock> -->
<!--     </apex:outputPanel> -->
<!--         <apex:outputPanel id="seizure-dialog-confirm" title="Confirm save" layout="block" style="display:none"> -->
<!--             <apex:outputPanel layout="inline"> -->
<!--             <apex:outputPanel layout="inline" styleClass="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;" /> -->
<!--                 There is already an existing Seizure for the overlapping time, this could be a duplicate entry. Do you still want to Save? -->
<!--             </apex:outputPanel> -->
<!--         </apex:outputPanel> -->

    <a id="Seizure_Tracking"></a>
    <apex:pageBlock id="SeizureTrackingList" mode="maindetail" >
        <apex:pageBlockButtons location="top">
            <div class="blockbtns">
                <input type="button" class="btn" value="Add Seizure" onclick="openModalDialogSA('seizureTrackingModal', 'div', 'Add Seizure', null, 600); seizureScrollToTop(); seizureClearMessages();" />
            </div>
            </apex:pageBlockButtons>
            <apex:pageBlockSection id="_Alt1_Header" title="Seizures" collapsible="true" columns="1">
                <apex:outputText value="No seizures to display" rendered="{!SeizuresWrapper.size==0}" />

                <apex:pageBlockTable value="{!SeizuresWrapper}" var="sWrapper" rendered="{!SeizuresWrapper.size>0}" headerClass="tbl-header" rowClasses="tmn-row-odd, tmn-row-even" >
                    <apex:column headerValue="Action" width="12%">
                         <a href="#" onclick="loadSeizure('{!sWrapper.Id}');return false; ">Edit</a>
                    </apex:column>
                    <apex:column headerValue="Seizure Start Time" width="16%"><c:MilitaryDateTimeWithSeconds dateTimeVal="{!sWrapper.startDateTime}"/></apex:column>
                    <apex:column headerValue="Seizure End Time" width="16%"><c:MilitaryDateTimeWithSeconds dateTimeVal="{!sWrapper.endDateTime}"/></apex:column>
                    <apex:column headerValue="Observed By" value="{!sWrapper.observedByName}" width="16%"/>
                    <apex:column headerValue="Comments" value="{!sWrapper.comments}" width="40%"/>
                    <apex:column headerValue="Duplicate Entry" width="5%"> 
                        <apex:image value="/img/checkbox_checked.gif" rendered="{!sWrapper.duplicateEntry}" /> 
                        <apex:image value="/img/checkbox_unchecked.gif" rendered="{!!sWrapper.duplicateEntry}" />
                    </apex:column>
                </apex:pageBlockTable>
                
            </apex:pageBlockSection>
        </apex:pageBlock>

        <apex:actionStatus id="AddEditSeizureStatus" >
            <apex:facet name="start">
                    <style>
                    .thinkingwheel{position: fixed; left:50%; top:50%; background-color: white; border: 2px solid gray; padding: 2px; z-index: 2000;}
                .foggy{
                    opacity:0.8;
                    background-color:#ccc;
                    position:fixed;
                    width:100%;
                    height:100%;
                    top:0px;
                    left:0px;
                    z-index:1000;
                }
                </style>

                <div class="foggy" />
                <div class="thinkingwheel" >
                    <span><img class="waitingImage" src="/img/loading.gif" title="Please Wait..." /> Processing . . . </span>
                </div>
            </apex:facet>
            <apex:facet name="stop"> </apex:facet>
        </apex:actionStatus>
        <!-- end Seizures section-->

</apex:form>
</apex:page>