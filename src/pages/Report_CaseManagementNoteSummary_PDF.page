<apex:page controller="ReportCaseMgmtNoteSummaryExt" sidebar="false" docType="html-5.0" readOnly="true" action="{!runrpt}" renderas="pdf" applyBodyTag="false">
<apex:stylesheet value="{!$Resource.mentoresdprint}" />
<apex:includeScript value="{!$Resource.jquery}"/>
    <apex:includeScript value="{!URLFOR($Resource.jquery, '/js/jquery-1.7.2.min.js')}" />
    <apex:includeScript value="{!URLFOR($Resource.dataTables, '/dataTables/media/js/jquery.dataTables.min.js')}" />
    <apex:includeScript value="https://raw.github.com/awbush/jquery-fastLiveFilter/master/jquery.fastLiveFilter.js" />
 
 <head>
	<style type="text/css" media="print">

	@page {
		@top-left {
			content: element(header);
		}

		@bottom-right {
			content: element(footer);
		}
	}
	div.header {
		padding: 10px;
		position: running(header);
	}
	div.footer {
		display: block;
		padding: 5px;
		padding-left: 12em;
		position: running(footer);
	}
	.pagenumber:before {
		content: counter(page);
	}
	.pagecount:before {
		content: counter(pages);
	}
	</style>
</head>

<div class="header">
	<div>The MENTOR Network</div>
</div>
<div class="footer">
	<div>Generated by {!LoggedinuserName} on {!datetimenow}</div>
</div>

<apex:outputPanel layout="block" style="float: left; width: 700px; padding: 15px;" id="dataTable"> 
<h1>Case Management Note Summary Report</h1>
<apex:pageBlock >
	<apex:pageBlockSection columns="1">
		<apex:pageBlockSectionItem >
			<apex:outputLabel value="Start Date" />
			<apex:outputText value=" {!startDate}" />
		</apex:pageBlockSectionItem>
		<apex:pageBlockSectionItem >
			<apex:outputLabel value="End Date" />
			<apex:outputText value=" {!endDate}" />
		</apex:pageBlockSectionItem>
		<apex:pageBlockSectionItem >
			<apex:outputLabel value="Person Being Served Name" />
			<apex:outputText value="{!PersonBeingServedSelectedName}" />
		</apex:pageBlockSectionItem>
		<apex:pageBlockSectionItem >
			<apex:outputLabel value="Program" />
			<apex:outputText value="{!ProgramSelectedName}" />
		</apex:pageBlockSectionItem>
	</apex:pageBlockSection>
</apex:pageBlock>
<apex:pageBlock title="Active Personal Agents" id="personalAgentResults">
		 <table id="mytbl" width="100%" cellpadding="0" cellspacing="0" border="1" >
                <thead>
                    <tr>
                        <th class="headRow">First Name</th>
                        <th class="headRow">Last Name</th>
                        
                    </tr>
                </thead>
    	        <apex:repeat value="{!pagentData}" var="row">
    	            <tr>
                        <td>{!row.Personal_Agent__r.First_Name__c}</td>
                        <td>{!row.Personal_Agent__r.Last_Name__c}</td>
    	            </tr>
    	        </apex:repeat>
            </table>
   </apex:pageBlock>


   <apex:pageBlock title="Results" id="results">
		 <table id="mytbl" width="100%" cellpadding="0" cellspacing="0" border="1" >
                <thead>
                    <tr>
                        <th class="headRow">Note Date/ Time</th>
                        <th class="headRow">Type of Contact</th>
                        <th class="headRow">Billable Category</th>
                        <th class="headRow">Narrative</th>
                        <th class="headRow">Created By</th>
                        <th class="headRow">Created Date</th>
                    </tr>
                </thead>
    	        <apex:repeat value="{!rptData}" var="row">
    	            <tr>
                        <td> <apex:outputText value="  {!row.Start_Time__c}" /></td>
                        <td>{!row.Type_of_Contact__c}</td>
                        <td>{!row.Billable_Category__c}</td>
                        <td>{!row.Narrative__c}</td>
                        <td>{!row.CreatedBy.Name}</td>
                        <td> <apex:outputText value=" {!row.CreatedDate}" /></td>
    	            </tr>
    	        </apex:repeat>
            </table>
   </apex:pageBlock>
<br/>


</apex:outputPanel>


</apex:page>