<apex:page standardController="Health_Wellness_Checklist__c" extensions="HealthWellnessChecklist">
	<apex:stylesheet value="{!URLFOR($Resource.mentoresd,'/mentoresd.css')}" />
	<apex:stylesheet value="{!URLFOR($Resource.mentoresd,'/mentoresdcss2.css')}" />

	<c:PersonalRecord pbsId="{!checklist.Admission__r.Person_Being_Served__c}" parentPage="HealthWellnessChecklist" admId="{!checklist.Admission__r.Id}" />
	<br />

	<apex:form id="editForm">
		<apex:pageBlock title="General">
			<apex:pageBlockSection columns="2" rendered="{!isEditMode}">
				<apex:inputField value="{!Health_Wellness_Checklist__c.Status_of_Physical__c}" required="true">
					<apex:actionSupport event="onchange" status="pageProcessing" rerender="editForm" />
				</apex:inputField>
				<apex:pageBlockSectionItem />
			</apex:pageBlockSection>
		</apex:pageBlock>
		<apex:pageBlock title="Immunizations">

		</apex:pageBlock>
		<apex:pageBlock title="Chronic Conditions">
			<apex:pageBlockSection columns="1" rendered="{!isEditMode}">
				<apex:inputField value="{!Health_Wellness_Checklist__c.Asthma__c}" />
				<apex:inputField value="{!Health_Wellness_Checklist__c.Arthritis__c}" />
			</apex:pageBlockSection>

		</apex:pageBlock>
		<apex:pageBlock title="Medications">

		</apex:pageBlock>
		<apex:pageBlock title="Dental">

			<apex:pageBlockButtons location="bottom">
				<apex:commandButton value="Save" action="{!save}" status="pageProcessing" rendered="{!isEditMode}" />
				<apex:commandButton value="Cancel" action="{!cancel}" status="pageProcessing" rendered="{!isEditMode}" />
				<apex:commandButton value="Edit" onClick="window.location='/{!Health_Wellness_Checklist__c.Id}?mode=EDIT'; return false;" rendered="{!canEdit}" />
				<apex:commandButton value="Finalize" action="{!finalize}" status="pageProccessing" rendered="{!canFinalize}" />
				<apex:commandButton value="Revise" action="{!revise}" status="pageProccessing" rendered="{!canRevise}" />
			</apex:pageBlockButtons>
		</apex:pageBlock>
	</apex:form>
	<apex:actionStatus id="pageProcessing">
		<apex:facet name="start">
			<div style="opacity:0.8; background-color:#ccc; position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:2000;"></div>
			<div style="position: fixed; left:50%; top:50%; background-color: white; border: 2px solid gray; padding: 2px; z-index: 2000;">
				<span><img class="waitingImage" src="/img/loading.gif" title="Please Wait..." /> Processing . . . </span>
			</div>
		</apex:facet>
		<apex:facet name="stop" />
	</apex:actionStatus>
</apex:page>